import{_ as b,e as c,t as p,o as i,c as a,b as n,j as d,h as m,w as _,v as C}from"./index-CEdZwjui.js";import{u as g,r as h,i as v}from"./index-YkESnDGV.js";const S="http://api.tastyeat.ru/",f={props:{id:Number,baskets:String},data(){return{count:0}},methods:{getCount(l,t){c.get(S+"api/Basket/api/GetCountProduct?basketid="+t+"&product="+l).then(s=>{const r=s.data;this.count=r})}},mounted:function(){this.getCount(this.id,this.baskets)}};function x(l,t,s,r,u,o){return p(u.count)}const O=b(f,[["render",x]]),k="http://api.tastyeat.ru/",y={setup(){return{v$:g()}},props:{baskets:Number,Status:String,Role:String},name:"ButtonStatusManager",data(){return{status:"1",courierid:0}},methods:{Cooking(){c.post(k+"api/Order/Cooking?basketId="+this.baskets)},Courier(){c.post(k+"api/Order/Courier?basketId="+this.baskets+"&userid="+this.courierid)},Done(){c.post(k+"api/Order/Done?basketId="+this.baskets)}},validations(){return{courierid:{required:h,integer:v}}}},B={class:"grid-x grid-padding-x"},D={key:0,class:"medium-10"},I={key:1,class:"medium-10"},N={key:0,class:"error"},V={key:2,class:"medium-10"};function P(l,t,s,r,u,o){return i(),a("div",B,[s.Status=="Обработан"?(i(),a("div",D,[n("button",{class:"button",onClick:t[0]||(t[0]=e=>o.Cooking(s.baskets))},"Приготовлено")])):d("",!0),s.Status=="Заказ готов"?(i(),a("div",I,[n("label",null,[m("Номер курьера "),_(n("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>u.courierid=e),onBlur:t[2]||(t[2]=(...e)=>r.v$.courierid.$touch&&r.v$.courierid.$touch(...e))},null,544),[[C,u.courierid]])]),r.v$.courierid.$error?(i(),a("span",N,"Поле не заполнено или не является числом")):d("",!0),n("button",{class:"button",onClick:t[3]||(t[3]=(...e)=>o.Courier&&o.Courier(...e))},"Передать курьеру")])):d("",!0),s.Status=="Передано курьеру"?(i(),a("div",V,[n("button",{type:"button",class:"button",onClick:t[4]||(t[4]=(...e)=>o.Done&&o.Done(...e))},"Заказ выдан")])):d("",!0)])}const T=b(y,[["render",P],["__scopeId","data-v-be0d204d"]]);export{O as C,T as S};
