import{_,e as k,o as n,c as r,m as C,f as c,b as s,F as I,g as A,t as e,h,i as d,j as i}from"./index-CEdZwjui.js";import{C as N,S as $}from"./ButtonStatusManager-CMRWcLUa.js";import"./index-YkESnDGV.js";const v="http://api.tastyeat.ru/",B={name:"CancelButtonOrder",props:{baskets:Number},methods:{cancel(){k.post(v+"api/Order/Cancel?basketId="+this.baskets)}}};function D(a,o,b,f,p,u){return n(),r("button",{onClick:o[0]||(o[0]=(...l)=>u.cancel&&u.cancel(...l)),class:"button"},"Отменить заказ")}const P=_(B,[["render",D]]),R="http://api.tastyeat.ru/",S={name:"OrdersPanel",data(){return{role:"",orders:[]}},components:{CountPR:N,Cancel:P,StatusBTN:$},methods:{refresh(){k.get(R+"api/Order/Get").then(a=>{const o=a.data;this.orders=o})}},computed:{...C("auth",{gettersAuthData:"getAuthData"})},created(){this.timer=setInterval(this.refresh,1e3)},mounted(){this.refresh(),setTimeout(this.refresh,1e3)}},y={class:"grid-container"},O=s("h1",null,"Панель управления заказами",-1),T={class:"grid-x grid-padding-x"},x={key:0},V={key:1};function L(a,o,b,f,p,u){const l=c("CountPR"),g=c("Cancel"),m=c("StatusBTN");return n(),r("div",y,[O,s("div",T,[(n(!0),r(I,null,A(p.orders,(t,F)=>(n(),r("div",{class:"medium-10",key:t.id},[a.gettersAuthData.role=="Кухонный работник"&&t.status=="Оплачен"?(n(),r("div",x,[s("h4",null," Заказ №"+e(t.id),1),s("p",null,"Наименование:"+e(t.product),1),s("p",null,"Адрес доставки:"+e(t.address),1),s("p",null,"ФИО: "+e(t.snm),1),s("p",null,"Номер телефона: "+e(t.phone),1),s("p",null,[h("Количество:"),d(l,{id:t.productId,baskets:t.basketId},null,8,["id","baskets"])]),s("p",null,"Статус:"+e(t.status),1)])):i("",!0),a.gettersAuthData.role=="Администратор"||a.gettersAuthData.role=="Менеджер"?(n(),r("div",V,[s("h4",null," Заказ №"+e(t.id),1),s("p",null,"Наименование:"+e(t.product),1),s("p",null,"Адрес доставки:"+e(t.address),1),s("p",null,"ФИО: "+e(t.snm),1),s("p",null,"Номер телефона: "+e(t.phone),1),s("p",null,[h("Количество:"),d(l,{id:t.productId,baskets:t.basketId},null,8,["id","baskets"])]),s("p",null,"Комментарий к заказу:"+e(t.comments),1),s("p",null,"Статус:"+e(t.status),1),d(g,{baskets:t.basketId},null,8,["baskets"]),d(m,{baskets:t.basketId,Status:t.status,Role:a.gettersAuthData.role},null,8,["baskets","Status","Role"])])):i("",!0)]))),128))])])}const E=_(S,[["render",L]]);export{E as default};
